
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://adityasz.github.io/typed-clap/quickstart/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../command/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Quickstart - typed-clap docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quickstart-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="typed-clap docs" class="md-header__button md-logo" aria-label="typed-clap docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            typed-clap docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quickstart
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/adityasz/typed-clap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="typed-clap docs" class="md-nav__button md-logo" aria-label="typed-clap docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    typed-clap docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/adityasz/typed-clap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href=".." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring the Parser
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding Arguments
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#positionals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Positionals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flags" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flags
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optional
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaults" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defaults
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subcommands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Subcommands
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Validation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enumerated-values" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enumerated values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#argument-relations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Argument Relations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docstrings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docstrings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#help-output" class="md-nav__link">
    <span class="md-ellipsis">
      
        Help Output
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharp-edges" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sharp edges
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    command
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../subcommand/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    subcommand
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    arg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Help Template
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../styling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Styling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Internal
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internal
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/adityasz/typed-clap/edit/master/docs/quickstart.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/adityasz/typed-clap/raw/master/docs/quickstart.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="quickstart-guide">Quickstart Guide</h1>
<p>This guide is structured as a tutorial that will walk you through creating
command-line applications with <a href="https://github.com/adityasz/typed-clap">typed-clap</a>.</p>
<p>It was adapted from the excellent
<a href="https://docs.rs/clap/latest/clap/_derive/_tutorial/index.html">tutorial</a> for
<a href="https://github.com/clap-rs/clap">clap-rs</a> using <a href="https://www.anthropic.com/news/claude-4">Claude 4.0
Sonnet</a> in
<a href="https://www.cursor.com/">Cursor</a> (and some manual cleaning by hand). Most text
is lifted verbatim.</p>
<h2 id="quick-start">Quick Start</h2>
<p>You can create an application declaratively with a class and some decorators.</p>
<p>Here is a preview of the type of application you can make:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">ArgAction</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Test</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Does testing things.&quot;&quot;&quot;</span>

    <span class="n">list_flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="o">=</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists test values.&quot;&quot;&quot;</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A simple to use, efficient, and full-featured Command Line Argument Parser.&quot;&quot;&quot;</span>

    <span class="n">command</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Test</span><span class="p">]</span>

    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Optional name to operate on.&quot;&quot;&quot;</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;FILE&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets a custom config file.&quot;&quot;&quot;</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">ArgAction</span><span class="o">.</span><span class="n">Count</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Turn debugging information on.&quot;&quot;&quot;</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="c1"># You can check the value provided by positional arguments, or option arguments</span>
    <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value for name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Value for config: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># You can see how many times a particular flag or argument occurred</span>
    <span class="c1"># Note, only flags can have multiple occurrences</span>
    <span class="k">match</span> <span class="n">cli</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Debug mode is off&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Debug mode is kind of on&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Debug mode is on&quot;</span><span class="p">)</span>
        <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Don&#39;t be crazy&quot;</span><span class="p">)</span>

    <span class="c1"># You can check for the existence of subcommands, and if found use their</span>
    <span class="c1"># matches just as you would the top level cmd</span>
    <span class="k">match</span> <span class="n">cli</span><span class="o">.</span><span class="n">command</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Test</span><span class="p">(</span><span class="n">list_flag</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">list_flag</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Printing testing lists...&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Not printing testing lists...&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>

    <span class="c1"># Continued program logic goes here...</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/01_quick.py --help
A simple to use, efficient, and full-featured Command Line Argument Parser

<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">01_quick.py</span> [OPTIONS] [NAME] [COMMAND]

<span style="font-weight: bold; text-decoration: underline">Commands:</span>
  <span style="font-weight: bold">test</span>  Does testing things

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  [NAME]  Optional name to operate on

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-c</span>, <span style="font-weight: bold">--config</span> &lt;FILE&gt;  Sets a custom config file
  <span style="font-weight: bold">-d</span>, <span style="font-weight: bold">--debug</span>...       Turn debugging information on [default: 0]
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>           Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>        Print version</code></pre></div>

<p>By default, the program does nothing:</p>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/01_quick.py
Debug mode is off</code></pre></div>

<p>But you can mix and match the various features:</p>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/01_quick.py -dd test
Debug mode is on
Not printing testing lists...</code></pre></div>

<p><strong>See also:</strong></p>
<ul>
<li>The <a href="https://github.com/adityasz/typed-clap/tree/master/tests">tests</a> for more
  usage examples.</li>
<li>The <a href="https://github.com/adityasz/typed-clap/tree/master/examples">examples</a> for
  more application-focused examples.</li>
</ul>
<h2 id="configuring-the-parser">Configuring the Parser</h2>
<p>You use the <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.command&lt;/span&gt;" href="../command/#clap.command"><code>@clap.command</code></a> decorator to start building a parser.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyApp&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Does awesome things.&quot;&quot;&quot;</span>

    <span class="n">two</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
    <span class="n">one</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;two: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">two</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;one: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">one</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/02_apps.py --help
Does awesome things

<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">MyApp</span> <span style="font-weight: bold">--two</span> &lt;TWO&gt; <span style="font-weight: bold">--one</span> &lt;ONE&gt;

<span style="font-weight: bold; text-decoration: underline">Options:</span>
      <span style="font-weight: bold">--two</span> &lt;TWO&gt;
      <span style="font-weight: bold">--one</span> &lt;ONE&gt;
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>       Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>    Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/02_apps.py --version
MyApp 1.0</code></pre></div>

<h2 id="adding-arguments">Adding Arguments</h2>
<ol>
<li><a href="#positionals">Positionals</a></li>
<li><a href="#options">Options</a></li>
<li><a href="#flags">Flags</a></li>
<li><a href="#optional">Optional</a></li>
<li><a href="#defaults">Defaults</a></li>
<li><a href="#subcommands">Subcommands</a></li>
</ol>
<p>Arguments are inferred from the fields of your class.</p>
<h3 id="positionals">Positionals</h3>
<p>By default, class fields define positional arguments:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_03_positional.py</span> &lt;NAME&gt;

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;NAME&gt;

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional.py bob
name: bob</code></pre></div>

<p>The <code>= arg()</code> assignment can be omitted, but then you need to be aware of the
<a href="#sharp-edges">sharp edges</a>.</p>
<p>Note that the default <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.ArgAction&lt;/span&gt;" href="../actions/#clap.ArgAction"><code>ArgAction</code></a> is
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Set&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../actions/#clap.ArgAction.Set"><code>Set</code></a>. To accept multiple values, use a <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list"><code>list</code></a> type:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional_mult.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_03_positional_mult.py</span> [&lt;NAME&gt;...]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  [&lt;NAME&gt;...]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional_mult.py
name: []</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional_mult.py bob
name: [&#x27;bob&#x27;]</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_03_positional_mult.py bob john
name: [&#x27;bob&#x27;, &#x27;john&#x27;]</code></pre></div>

<h3 id="options">Options</h3>
<p>You can name your arguments with a flag:</p>
<ul>
<li>Intent of the value is clearer</li>
<li>Order doesn't matter</li>
</ul>
<p>To specify the flags for an argument, you can use <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.arg&lt;/span&gt;" href="../arg/#clap.arg"><code>arg()</code></a> on a
field:</p>
<ul>
<li>To automatically generate flags, <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;clap.short&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../arg/#clap.short"><code>short</code></a> and
  <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;clap.long&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../arg/#clap.long"><code>long</code></a> can be used: <code>arg(short, long)</code>.<ul>
<li><code>arg(short=True, long=True)</code> can also be used.</li>
</ul>
</li>
<li>To specify the flags manually:<ul>
<li><code>arg(short="n", long="name")</code>.</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.arg&lt;/span&gt;" href="../arg/#clap.arg"><code>arg()</code></a> takes up to two
<a href="https://peps.python.org/pep-0570/">positional-only</a> paramters of type
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.core.AutoFlag&lt;/span&gt;" href="../core/#clap.core.AutoFlag"><code>AutoFlag</code></a>, and <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;clap.short&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../arg/#clap.short"><code>short</code></a> and
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;clap.long&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../arg/#clap.long"><code>long</code></a> are aliases for
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Short&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../core/#clap.core.AutoFlag.Short"><code>AutoFlag.Short</code></a> and
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Long&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../core/#clap.core.AutoFlag.Long"><code>AutoFlag.Long</code></a>. These are used to automatically
generate flags.</p>
<p>It also takes <a href="https://peps.python.org/pep-3102/">keyword-only</a> arguments
named <code>short</code> and <code>long</code>. These are used for manually specifying the flags.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_02_option.py</span> <span style="font-weight: bold">--name</span> &lt;NAME&gt;

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-n</span>, <span style="font-weight: bold">--name</span> &lt;NAME&gt;
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>         Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>      Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py --name bob
name: bob</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py --<span style="color: #808000; text-decoration-color: #808000">name</span>=<span style="color: #800080; text-decoration-color: #800080">bob</span>
name: bob</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py -n bob
name: bob</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py -<span style="color: #808000; text-decoration-color: #808000">n</span>=<span style="color: #800080; text-decoration-color: #800080">bob</span>
name: bob</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option.py -nbob
name: bob</code></pre></div>

<p>Note that the default <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.ArgAction&lt;/span&gt;" href="../actions/#clap.ArgAction"><code>ArgAction</code></a> is
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Set&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../actions/#clap.ArgAction.Set"><code>Set</code></a>. To accept multiple occurrences, override the action
with <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Append&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../actions/#clap.ArgAction.Append"><code>Append</code></a> via <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list"><code>list</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option_mult.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_02_option_mult.py</span> [OPTIONS]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-n</span>, <span style="font-weight: bold">--name</span> &lt;NAME&gt;  [default: []]
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>         Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>      Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option_mult.py
name: []</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option_mult.py --name bob
name: [&#x27;bob&#x27;]</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option_mult.py --name bob --name john
name: [&#x27;bob&#x27;, &#x27;john&#x27;]</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_02_option_mult.py --name bob --<span style="color: #808000; text-decoration-color: #808000">name</span>=<span style="color: #800080; text-decoration-color: #800080">john</span> -n tom -<span style="color: #808000; text-decoration-color: #808000">n</span>=<span style="color: #800080; text-decoration-color: #800080">chris</span> -nsteve
name: [&#x27;bob&#x27;, &#x27;john&#x27;, &#x27;tom&#x27;, &#x27;chris&#x27;, &#x27;steve&#x27;]</code></pre></div>

<h3 id="flags">Flags</h3>
<p>Flags can also be switches that can be on/off:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;verbose: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">verbose</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_bool.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_01_flag_bool.py</span> [OPTIONS]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-v</span>, <span style="font-weight: bold">--verbose</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_bool.py
verbose: False</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_bool.py --verbose
verbose: True</code></pre></div>

<p>Note that the default <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.ArgAction&lt;/span&gt;" href="../actions/#clap.ArgAction"><code>ArgAction</code></a> for a <code>bool</code> field is
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;SetTrue&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../actions/#clap.ArgAction.SetTrue"><code>SetTrue</code></a>. To accept multiple flags, override the
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.arg&lt;/span&gt;" href="../arg/#clap.arg">action</a> with <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;Count&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-class-attribute&quot;&gt;&lt;code&gt;class-attribute&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-instance-attribute&quot;&gt;&lt;code&gt;instance-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../actions/#clap.ArgAction.Count"><code>Count</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">ArgAction</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="n">ArgAction</span><span class="o">.</span><span class="n">Count</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;verbose: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">verbose</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_count.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_01_flag_count.py</span> [OPTIONS]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-v</span>, <span style="font-weight: bold">--verbose</span>...  [default: 0]
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>        Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>     Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_count.py
verbose: 0</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_count.py --verbose
verbose: 1</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_01_flag_count.py --verbose --verbose
verbose: 2</code></pre></div>

<h3 id="optional">Optional</h3>
<p>By default, arguments are assumed to be required. To make an argument optional,
you can either use <a href="https://peps.python.org/pep-0604/">PEP 604</a> annotations, or
wrap the field's type in <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
    <span class="c1"># Alternatively, you can use name: Optional[str] = arg()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;name: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_06_optional.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_06_optional.py</span> [NAME]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  [NAME]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_06_optional.py
name: None</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_06_optional.py bob
name: bob</code></pre></div>

<h3 id="defaults">Defaults</h3>
<p>We've previously showed that arguments can be required or optional. When
optional, you work with an <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/typing.html#typing.Optional"><code>Optional</code></a> and can use <code>or</code> or
provide a default value. Alternatively, you can set <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.arg&lt;/span&gt;" href="../arg/#clap.arg"><code>default_value</code></a>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">default_value</span><span class="o">=</span><span class="mi">2020</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;port: </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_05_default_values.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_05_default_values.py</span> [PORT]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  [PORT]  [default: 2020]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_05_default_values.py
port: 2020</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_05_default_values.py <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">22</span>
port: 22</code></pre></div>

<h3 id="subcommands">Subcommands</h3>
<p>Subcommands are created with <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.subcommand&lt;/span&gt;" href="../subcommand/#clap.subcommand"><code>@clap.subcommand</code></a> and added via
a type annotation to a field that will contain the parsed result. If there are
multiple subcommands, use <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/typing.html#typing.Union"><code>Union</code></a> or
<a href="https://peps.python.org/pep-0604/">PEP 604</a> annotations. Each instance of a
subcommand can have its own version, author(s), arguments, and even its own
subcommands.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Add</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Adds files to myapp.&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Remove</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove files from myapp.&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span> <span class="n">propagate_version</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">Add</span> <span class="o">|</span> <span class="n">Remove</span>
    <span class="c1"># Alternatively, you can write command: Union[Add, Remove]</span>

    <span class="n">quiet</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">long</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="c1"># You can check for the existence of subcommands, and if found use their</span>
    <span class="c1"># matches just as you would the top level cmd</span>
    <span class="k">match</span> <span class="n">args</span><span class="o">.</span><span class="n">command</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Add</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">quiet</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;myapp add&#39; was used, name is: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">Remove</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">quiet</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&#39;myapp remove&#39; was used, name is: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_04_subcommands.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_04_subcommands.py</span> [OPTIONS] &lt;COMMAND&gt;

<span style="font-weight: bold; text-decoration: underline">Commands:</span>
  <span style="font-weight: bold">add</span>     Adds files to myapp
  <span style="font-weight: bold">remove</span>  Remove files from myapp

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-q</span>, <span style="font-weight: bold">--quiet</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_04_subcommands.py add --help
Adds files to myapp

<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">03_04_subcommands.py</span> [OPTIONS] <span style="font-weight: bold">add</span> &lt;NAME&gt;

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;NAME&gt;

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_04_subcommands.py add bob
&#x27;myapp add&#x27; was used, name is: bob</code></pre></div>

<p>To make a subcommand optional, add a <code>| None</code> or wrap it in an <code>Optional</code> (e.g.
<code>command: Optional[Add]</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to type checking limitations, the subcommand needs to be the first field
in the class even though it is specified after all other arguments in the
command-line, unless you assign an object of a compatible type to it:
See <a href="#sharp-edges">sharp edges</a> below.</p>
</div>
<p>Since we specified <code>propagate_version=True</code>, the <code>--version</code> flag is available
in all subcommands:</p>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_04_subcommands.py --version
03_04_subcommands.py 1.0</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/03_04_subcommands.py add --version
add 1.0</code></pre></div>

<h2 id="validation">Validation</h2>
<ol>
<li><a href="#enumerated-values">Enumerated values</a></li>
<li><a href="#argument-relations">Argument Relations</a></li>
<li><a href="#custom-validation">Custom Validation</a></li>
</ol>
<p>An appropriate default parser/validator will be selected for the field's type.</p>
<h3 id="enumerated-values">Enumerated values</h3>
<p>For arguments with specific values you want to test for, you can use Python's
<code>Enum</code>. This allows you to specify the valid values for that argument. If the
user does not use one of those specific values, they will receive a graceful
exit with error message informing them of the mistake, and what the possible
valid values are.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span>


<span class="k">class</span><span class="w"> </span><span class="nc">Mode</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;TODO: Help strings are not yet printed for enum values in the long help output.</span>

<span class="sd">    See TODOs in README.md.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">Fast</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run swiftly.&quot;&quot;&quot;</span>
    <span class="n">Slow</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Crawl slowly but steadily.</span>

<span class="sd">    This paragraph is ignored because there is no long help text for possible values.</span>
<span class="sd">    &quot;&quot;&quot;</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">Mode</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;What mode to run the program in.&quot;&quot;&quot;</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="k">match</span> <span class="n">cli</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span>
        <span class="k">case</span> <span class="n">Mode</span><span class="o">.</span><span class="n">Fast</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hare&quot;</span><span class="p">)</span>
        <span class="k">case</span> <span class="n">Mode</span><span class="o">.</span><span class="n">Slow</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tortoise&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_01_enum.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">04_01_enum.py</span> &lt;MODE&gt;

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;MODE&gt;
          What mode to run the program in

          Possible values:
          - <span style="font-weight: bold">fast</span>: Run swiftly
          - <span style="font-weight: bold">slow</span>: Crawl slowly but steadily

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_01_enum.py -h
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">04_01_enum.py</span> &lt;MODE&gt;

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;MODE&gt;  What mode to run the program in [possible values: fast, slow]

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>     Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>  Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_01_enum.py fast
Hare</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_01_enum.py slow
Tortoise</code></pre></div>

<h3 id="argument-relations">Argument Relations</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Advanced argument relations and dependencies like <code>requires</code> and
<code>conflicts_with</code> are not yet implemented. You can use <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.Group&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-dataclass&quot;&gt;&lt;code&gt;dataclass&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../group/#clap.Group"><code>Group</code></a>
for basic grouping and mutual exclusion.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Vers</span><span class="p">:</span>
    <span class="n">set_ver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;VER&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set version manually.&quot;&quot;&quot;</span>
    <span class="n">major</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc major.&quot;&quot;&quot;</span>
    <span class="n">minor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc minor.&quot;&quot;&quot;</span>
    <span class="n">patch</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc patch.&quot;&quot;&quot;</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">vers</span><span class="p">:</span> <span class="n">Vers</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="c1"># Let&#39;s assume the old version 1.2.3</span>
    <span class="n">major</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">minor</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">patch</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">vers</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">vers</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span>

    <span class="c1"># See if --set_ver was used to set the version manually</span>
    <span class="k">if</span> <span class="n">vers</span><span class="o">.</span><span class="n">set_ver</span><span class="p">:</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">vers</span><span class="o">.</span><span class="n">set_ver</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Increment the one requested (in a real program, we&#39;d reset the lower numbers)</span>
        <span class="n">maj</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="n">pat</span> <span class="o">=</span> <span class="n">vers</span><span class="o">.</span><span class="n">major</span><span class="p">,</span> <span class="n">vers</span><span class="o">.</span><span class="n">minor</span><span class="p">,</span> <span class="n">vers</span><span class="o">.</span><span class="n">patch</span>
        <span class="k">match</span> <span class="n">maj</span><span class="p">,</span> <span class="nb">min</span><span class="p">,</span> <span class="n">pat</span><span class="p">:</span>
            <span class="k">case</span><span class="w"> </span><span class="kc">True</span><span class="p">,</span> <span class="k">_</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">major</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">_</span><span class="p">:</span> <span class="n">minor</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="n">patch</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">()</span>
        <span class="n">version</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">major</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">minor</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">patch</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Version: </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_02_groups.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">04_02_groups.py</span> [OPTIONS] &lt;<span style="font-weight: bold">--set-ver</span> &lt;VER&gt; | <span style="font-weight: bold">--major</span> | <span style="font-weight: bold">--minor</span> | <span style="font-weight: bold">--patch</span>&gt;

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>  Print help

      <span style="font-weight: bold">--set-ver</span> &lt;VER&gt;  Set version manually
      <span style="font-weight: bold">--major</span>          Auto inc major
      <span style="font-weight: bold">--minor</span>          Auto inc minor
      <span style="font-weight: bold">--patch</span>          Auto inc patch</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_02_groups.py --major
Version: 2.2.3</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_02_groups.py --set-ver <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.2</span>.<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5</span>
Version: 1.2.5</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_02_groups.py --major --minor
usage: <span style="font-weight: bold">04_02_groups.py</span> [OPTIONS] &lt;<span style="font-weight: bold">--set-ver</span> &lt;VER&gt; | <span style="font-weight: bold">--major</span> | <span style="font-weight: bold">--minor</span> | <span style="font-weight: bold">--patch</span>&gt;
04_02_groups.py: error: argument --minor: not allowed with argument --major</code></pre></div>

<h3 id="custom-validation">Custom Validation</h3>
<p>As a last resort, you can create custom validation logic in your application after parsing:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">clap</span><span class="w"> </span><span class="kn">import</span> <span class="n">arg</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="n">short</span>


<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">input_file</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Some regular input.&quot;&quot;&quot;</span>

    <span class="n">set_ver</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;VER&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set version manually.&quot;&quot;&quot;</span>

    <span class="n">major</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc major.&quot;&quot;&quot;</span>

    <span class="n">minor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc minor.&quot;&quot;&quot;</span>

    <span class="n">patch</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Auto inc patch.&quot;&quot;&quot;</span>

    <span class="n">spec_in</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Some special input argument.&quot;&quot;&quot;</span>

    <span class="n">config</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">short</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="n">cli</span> <span class="o">=</span> <span class="n">Cli</span><span class="o">.</span><span class="n">parse</span><span class="p">()</span>

    <span class="c1"># Let&#39;s assume the old version 1.2.3</span>
    <span class="n">major</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">minor</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">patch</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="c1"># See if --set-ver was used to set the version manually</span>
    <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">set_ver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">major</span> <span class="ow">or</span> <span class="n">cli</span><span class="o">.</span><span class="n">minor</span> <span class="ow">or</span> <span class="n">cli</span><span class="o">.</span><span class="n">patch</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error: Can&#39;t do relative and absolute version change&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">version</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">set_ver</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Increment the one requested (in a real program, we&#39;d reset the lower numbers)</span>
        <span class="n">flags_set</span> <span class="o">=</span> <span class="p">[</span><span class="n">cli</span><span class="o">.</span><span class="n">major</span><span class="p">,</span> <span class="n">cli</span><span class="o">.</span><span class="n">minor</span><span class="p">,</span> <span class="n">cli</span><span class="o">.</span><span class="n">patch</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">flags_set</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;error: Can only modify one version field&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">major</span><span class="p">:</span>
            <span class="n">major</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">cli</span><span class="o">.</span><span class="n">minor</span><span class="p">:</span>
            <span class="n">minor</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">cli</span><span class="o">.</span><span class="n">patch</span><span class="p">:</span>
            <span class="n">patch</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;error: Must specify one of --set-ver, --major, --minor, or --patch&quot;</span><span class="p">,</span>
                <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">version</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">major</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">minor</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">patch</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Version: </span><span class="si">{</span><span class="n">version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Check for usage of -c</span>
    <span class="k">if</span> <span class="n">cli</span><span class="o">.</span><span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">input_file</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">input_file</span> <span class="ow">or</span> <span class="n">cli</span><span class="o">.</span><span class="n">spec_in</span>
        <span class="k">if</span> <span class="n">input_file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;error: INPUT_FILE or --spec-in is required when using --config&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span>
            <span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Doing work using input </span><span class="si">{</span><span class="n">input_file</span><span class="si">}</span><span class="s2"> and config </span><span class="si">{</span><span class="n">cli</span><span class="o">.</span><span class="n">config</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_04_custom.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">04_04_custom.py</span> [OPTIONS] [INPUT_FILE]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  [INPUT_FILE]  Some regular input

<span style="font-weight: bold; text-decoration: underline">Options:</span>
      <span style="font-weight: bold">--set-ver</span> &lt;VER&gt;      Set version manually
      <span style="font-weight: bold">--major</span>              Auto inc major
      <span style="font-weight: bold">--minor</span>              Auto inc minor
      <span style="font-weight: bold">--patch</span>              Auto inc patch
      <span style="font-weight: bold">--spec-in</span> &lt;SPEC_IN&gt;  Some special input argument
  <span style="font-weight: bold">-c</span> &lt;CONFIG&gt;
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>               Print help
  <span style="font-weight: bold">-V</span>, <span style="font-weight: bold">--version</span>            Print version</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_04_custom.py --major
Version: 2.2.3</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python docs/docs/quickstart/04_04_custom.py --major -c config.toml --spec-in input.txt
Version: 2.2.3
Doing work using input input.txt and config config.toml</code></pre></div>

<h2 id="docstrings">Docstrings</h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">clap</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is the short about (without the trailing period).</span>

<span class="sd">    Any subsequent paragraphs are ignored in the short about. The long about</span>
<span class="sd">    contains the entire docstring.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">input</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Help messages are generated in a similar way.</span>
<span class="sd">    Ellipsis are kept in the short help...</span>

<span class="sd">    Paragraphs are separated by at least two newlines.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
<p>Docstrings are processed just like
<a href="https://docs.rs/clap/latest/clap/_derive/index.html#doc-comments"><code>clap-rs</code></a>.</p>
<h2 id="help-output">Help Output</h2>
<p>See <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Help&lt;/span&gt;" href="../actions/#clap.ArgAction.Help"><code>ArgAction.Help</code></a>,
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;HelpLong&lt;/span&gt;" href="../actions/#clap.ArgAction.HelpLong"><code>ArgAction.HelpLong</code></a>, and
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;HelpShort&lt;/span&gt;" href="../actions/#clap.ArgAction.HelpShort"><code>ArgAction.HelpShort</code></a>.</p>
<p>A custom <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;clap.help.HelpTemplate&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../help/#clap.help.HelpTemplate">template</a> can be used, and styles can be customized
using <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;clap.styling.Styles&lt;/span&gt;" href="../styling/#clap.styling.Styles"><code>Styles</code></a>.</p>
<p>Here's the help output for
<a href="https://github.com/adityasz/typed-clap/tree/master/examples/typst.py"><code>examples/typst.py</code></a>:</p>
<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python examples/typst.py --help
<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">typst</span> [OPTIONS] &lt;COMMAND&gt;

<span style="font-weight: bold; text-decoration: underline">Commands:</span>
  <span style="font-weight: bold">watch</span>  Watches an input file and recompiles on changes [aliases: w]
  <span style="font-weight: bold">init</span>   Initializes a new project from a template

<span style="font-weight: bold; text-decoration: underline">Options:</span>
      <span style="font-weight: bold">--cert</span> &lt;CERT&gt;
          Path to a custom CA certificate to use when making network requests

      <span style="font-weight: bold">--color</span> &lt;COLOR&gt;
          Whether to use color. When set to `auto` if the terminal to supports it

          Possible values:
          - <span style="font-weight: bold">auto</span>:   Enables colored output only when the output is going to a terminal or TTY
          - <span style="font-weight: bold">always</span>: Enables colored output regardless of whether or not the output is going to a
                    terminal/TTY
          - <span style="font-weight: bold">never</span>:  Disables colored output no matter if the output is going to a terminal/TTY, or
                    not

          [default: auto]

  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>
          Print help</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python examples/typst.py watch -h
Watches an input file and recompiles on changes

<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">typst</span> [OPTIONS] <span style="font-weight: bold">watch</span> [OPTIONS] &lt;INPUT&gt; [OUTPUT]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;INPUT&gt;   Path to input Typst file. Use `-` to read input from stdin
  [OUTPUT]  Path to output file (PDF, PNG, SVG, or HTML). Use `-` to write output to stdout

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-f</span>, <span style="font-weight: bold">--format</span> &lt;FORMAT&gt;      The format of the output file, inferred from the extension by default
                             [possible values: pdf, png, svg, html]
      <span style="font-weight: bold">--ignore-system-fonts</span>  Ensures system fonts won&#x27;t be searched, unless explicitly included via
                             `--font-path`
  <span style="font-weight: bold">-j</span>, <span style="font-weight: bold">--jobs</span> &lt;JOBS&gt;          Number of parallel jobs spawned during compilation. Defaults to number
                             of CPUs
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>                 Print help</code></pre></div>

<div class="command-output"><pre><code><span style="font-weight: bold">adityasz@github:typed-clap$ </span>python examples/typst.py watch --help
Watches an input file and recompiles on changes

<span style="font-weight: bold; text-decoration: underline">Usage:</span> <span style="font-weight: bold">typst</span> [OPTIONS] <span style="font-weight: bold">watch</span> [OPTIONS] &lt;INPUT&gt; [OUTPUT]

<span style="font-weight: bold; text-decoration: underline">Arguments:</span>
  &lt;INPUT&gt;
          Path to input Typst file. Use `-` to read input from stdin

  [OUTPUT]
          Path to output file (PDF, PNG, SVG, or HTML). Use `-` to write output to stdout.

          For output formats emitting one file per page (PNG &amp; SVG), a page number template must be
          present if the source document renders to multiple pages. Use `{p}` for page numbers,
          `{0p}` for zero padded page numbers and `{t}` for page count. For example,
          `page-{0p}-of-{t}.png` creates `page-01-of-10.png`, `page-02-of-10.png`, and so on.

<span style="font-weight: bold; text-decoration: underline">Options:</span>
  <span style="font-weight: bold">-f</span>, <span style="font-weight: bold">--format</span> &lt;FORMAT&gt;      The format of the output file, inferred from the extension by default
                             [possible values: pdf, png, svg, html]
      <span style="font-weight: bold">--ignore-system-fonts</span>  Ensures system fonts won&#x27;t be searched, unless explicitly included via
                             `--font-path`
  <span style="font-weight: bold">-j</span>, <span style="font-weight: bold">--jobs</span> &lt;JOBS&gt;          Number of parallel jobs spawned during compilation. Defaults to number
                             of CPUs
  <span style="font-weight: bold">-h</span>, <span style="font-weight: bold">--help</span>                 Print help</code></pre></div>

<h2 id="sharp-edges">Sharp edges</h2>
<p>The decorators <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.command&lt;/span&gt;" href="../command/#clap.command"><code>@clap.command</code></a>, <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.group&lt;/span&gt;" href="../group/#clap.group"><code>@clap.group</code></a>, and
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.subcommand&lt;/span&gt;" href="../subcommand/#clap.subcommand"><code>@clap.subcommand</code></a> are decorated with
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/typing.html#typing.dataclass_transform"><code>@dataclass_transform</code></a> to tell type checkers that
they provide <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass"><code>dataclass</code></a>-like functionality (for
example, pattern matching with positionals in <code>match</code>-<code>case</code>).</p>
<p>This also brings some dataclass limitations: If fields without default values
are present after fields with default values, type checkers will complain. There
are no runtime implications, but to satisfy the type checkers, the following
(reasonable) workarounds can be used:</p>
<ul>
<li>
<p>For positionals where you don't need to modify the default behavior, you can
  simply assign <code>arg()</code> if there are fields with default values above, even
  though the runtime behavior does not change. In the examples above, I always
  did this, even when it was not required, because it makes the intent clearer,
  especially when the type is a custom class like <code>Foo</code>: <code>foo: Foo</code> may be an
  argument group, a subcommand, or an argument, while <code>foo: Foo =
  arg()</code> can only be an argument.</p>
</li>
<li>
<p>If a field that contains the subcommand, make it the first field. (The order
  only matters for positionals; the subcommand is always parsed after all the
  positionals and options.)</p>
<p>While I would have preferred a solution where it is at the bottom, I do not
want to add a dummy function returning <code>Any</code> to the API. There exist
workarounds, though: If the subcommand is optional, you can assign <code>None</code> to
it. Alternatively, if you have something like <code>command: A | B | C</code>, you can
assign an object of any one of these types to it: <code>command: A | B | C =
A()</code>. The value is ignored by the library. Note that if the subcommand class
<code>A</code> has a field without a default value (e.g., <code>num: int</code>, where you do not
want to modify any attributes), you will have to assign a default to it
(e.g., <code>num: int = arg()</code>).</p>
</li>
<li>
<p>For argument <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clap.group&lt;/span&gt;" href="../group/#clap.group">groups</a>, you can call the constructor without any
  arguments and assign that, e.g.:
  <div class="highlight"><pre><span></span><code><span class="n">input_opts</span><span class="p">:</span> <span class="n">InputOpts</span> <span class="o">=</span> <span class="n">InputOpts</span><span class="p">()</span>
</code></pre></div>
  Argument groups are generally used for options. However, if an argument group
  has a positional argument without an <code>= arg()</code> (i.e., you want the default
  properties), the type checker will complain since that field does not have a
  default value and must be initialized in the constructor (since it cannot see
  that a dummy <code>__init__</code> is injected at runtime that will make it possible).
  So, you can just assign <code>= arg()</code> to it, just like in the first point above.</p>
</li>
</ul>
<p>Before (works at runtime, but static type checkers do not like it):
<div class="highlight"><pre><span></span><code><span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FooA</span><span class="p">:</span>
    <span class="n">foo_a</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FooB</span><span class="p">:</span>
    <span class="n">foo_b</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">group</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Stuff</span><span class="p">:</span>
    <span class="n">foo_c</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">foo_d</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">foo_e</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;N&quot;</span><span class="p">)</span>
    <span class="n">foo_f</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">more</span><span class="p">:</span> <span class="n">Stuff</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">FooA</span> <span class="o">|</span> <span class="n">FooB</span>
</code></pre></div></p>
<p>After:
<div class="highlight"><pre><span></span><code><span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FooA</span><span class="p">:</span>
    <span class="n">foo_a</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">subcommand</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FooB</span><span class="p">:</span>
    <span class="n">foo_b</span><span class="p">:</span> <span class="nb">int</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">group</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Stuff</span><span class="p">:</span>
    <span class="n">foo_c</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
    <span class="n">foo_d</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">long</span><span class="p">)</span>

<span class="nd">@clap</span><span class="o">.</span><span class="n">command</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Cli</span><span class="p">(</span><span class="n">clap</span><span class="o">.</span><span class="n">Parser</span><span class="p">):</span>
    <span class="n">command</span><span class="p">:</span> <span class="n">FooA</span> <span class="o">|</span> <span class="n">FooB</span>
    <span class="n">foo_e</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">(</span><span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;N&quot;</span><span class="p">)</span>
    <span class="n">foo_f</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">arg</span><span class="p">()</span>
    <span class="n">more</span><span class="p">:</span> <span class="n">Stuff</span> <span class="o">=</span> <span class="n">Stuff</span><span class="p">()</span>
</code></pre></div></p>
<p>The changes are very minimal, and only make the code clearer:
<div class="highlight"><pre><span></span><code><span class="w"> </span> @clap.subcommand
<span class="w"> </span> class FooA:
<span class="w"> </span>     foo_a: int

<span class="w"> </span> @clap.subcommand
<span class="w"> </span> class FooB:
<span class="w"> </span>     foo_b: int

<span class="w"> </span> @clap.group
<span class="w"> </span> class Stuff:
<span class="gd">-     foo_c: int</span>
<span class="gi">+     foo_c: int = arg()</span>
<span class="w"> </span>     foo_d: bool = arg(long)


<span class="w"> </span> @clap.command
<span class="w"> </span> class Cli(clap.Parser):
<span class="gi">+     command: FooA | FooB</span>
<span class="w"> </span>     foo_e: int = arg(value_name=&quot;N&quot;)
<span class="gd">-     foo_f: int</span>
<span class="gi">+     foo_f: int = arg()</span>
<span class="gd">-     more: Stuff</span>
<span class="gi">+     more: Stuff = Stuff()</span>
<span class="gd">-     command: FooA | FooB</span>
</code></pre></div></p>
<p><strong>See also:</strong></p>
<ul>
<li><a href="https://adityasz.github.io/typed-clap/">API Reference</a> for complete
  documentation.</li>
<li><a href="https://github.com/adityasz/typed-clap/tree/master/examples">Examples</a> for
  application-focused examples.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: typed-clap">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                typed-clap
              </div>
            </div>
          </a>
        
        
          
          <a href="../command/" class="md-footer__link md-footer__link--next" aria-label="Next: command">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                command
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.expand", "navigation.top", "navigation.path", "search.highlight", "search.suggest", "toc.follow", "toc.integrate"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>